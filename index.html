<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" type="text/css" href="css/bootstrap-3.3.5.min.css">
  <link rel="stylesheet" type="text/css" href="css/index.css">
  <title>Elecciones</title>
</head>
<body>

  <div class="container-fluid">

    <div class="row text-center">
      <h1>¿Cómo quedaría el congreso si...?</h1>
      <p>
        Esta visualización permite jugar con algunas de las variables que definen el sistema electoral español.
      </p>
    </div>


    <div class="row variables text-center">

      <div class="col-xs-6">
        <h4>CIRCUNSCRIPCIÓN</h4>
        <div id="region-btns" class="btn-group" role="group" aria-label="...">
          <button id="region-province" type="button" class="active btn btn-default" onclick="updateRegionToProvince()">PROVINCIAL</button>
          <button id="region-ccaa" type="button" class="btn btn-default" onclick="updateRegionToCCAA()">CCAA</button>
          <button id="region-country" type="button" class="btn btn-default" onclick="updateRegionToCountry()">ESTATAL</button>
        </div>
      </div>

      <div class="col-xs-6">
        <h4>% VOTOS MÍNIMO</h4>
        <div id="region-btns" class="btn-group" role="group" aria-label="...">
          <button id="threshold-0" type="button" class="active btn btn-default" onclick="updateThresholdTo0()">0%</button>
          <button id="threshold-1" type="button" class="btn btn-default" onclick="updateThresholdTo1()">1%</button>
          <button id="threshold-3" type="button" class="btn btn-default" onclick="updateThresholdTo3()">3%</button>
          <button id="threshold-5" type="button" class="btn btn-default" onclick="updateThresholdTo5()">5%</button>
        </div>
      </div>

    </div>

<hr>

<div class="row">
  <div id="seats-new" class="col-xs-12"></div>
  <div id="seats-old" class="col-xs-12"></div>
</div>

<br>
<br>
<br>

    <div class="row">

      <div class="col-xs-offset-1 col-xs-5">
        <h4>MAPA DE ESCAÑOS</h4>
        <p>¿Cuál es el coste del último escaño por circunscripción?</p>
        <iframe width="100%" height="520" frameborder="0" src="https://icarto.cartodb.com/viz/1c01e82c-4051-11e5-bd60-0e4fddd5de28/embed_map" allowfullscreen webkitallowfullscreen mozallowfullscreen oallowfullscreen msallowfullscreen></iframe>
      </div>

      <div class="col-xs-offset-1 col-xs-4">
        <h4>GOBERNABILIDAD y PROPORCIONALIDAD</h4>
        <p>¿Cómo se balancean ambas?</p>
        <div class="row">
          <table class="col-xs-8">
            <thead>
              <tr class="row">
                <th class="col-xs-1 pull-left">PARTIDO</th>
                <th class="col-xs-2" colspan="2">VOTOS</th>
                <th class="col-xs-2" colspan="2">ESCAÑOS</th>
                <th class="col-xs-2 percent" colspan="2">PROPORCIÓN</th>
              </tr>
            </thead>
            <tbody>
              <tr class="row">
                <td class="col-xs-1 pull-left">
                  <span class="pp">...</span><span class="">PP</span>
                </td>
                <td class="col-xs-1 text-right">10.830.693</td>
                <td class="col-xs-1">44,62%</td>
                <td id="seats-pp" class="col-xs-1 seats">186</td>
                <td class="col-xs-1"><span id="seats-var-pp" class="equal">-</span></td>
                <td id="proportion-pp" class="col-xs-1 percent ">-1 %</td>
                <td class="col-xs-1"><span id="proportion-var-pp" class="equal">-</span></td>
              </tr>
              <tr class="row">
                <td class="col-xs-1 pull-left">
                  <span class="psoe">...</span><span>PSOE</span>
                </td>
                <td class="col-xs-1">6.973.880</td>
                <td class="col-xs-1">28,73%</td>
                <td id="seats-psoe" class="col-xs-1 seats">110</td>
                <td class="col-xs-1"><span id="seats-var-psoe" class="equal">-</span></td>
                <td id="proportion-psoe" class="col-xs-1 percent">+1 %</td>
                <td class="col-xs-1"><span id="proportion-var-psoe" class="equal">-</span></td>
              </tr>
              <tr class="row">
                <td class="col-xs-1 pull-left">
                  <span class="ciu">...</span><span>CIU</span>
                </td>
                <td class="col-xs-1">1.014.263</td>
                <td class="col-xs-1">4,17%</td>
                <td id="seats-ciu" class="col-xs-1 seats">16</td>
                <td class="col-xs-1"><span id="seats-var-ciu"  class="equal">-</span></td>
                <td id="proportion-ciu" class="col-xs-1 percent">+0,1%</td>
                <td class="col-xs-1"><span id="proportion-var-ciu" class="equal">-</span></td>
              </tr>
              <tr class="row">
                <td class="col-xs-1 pull-left">
                  <span class="iu">...</span><span>IU</span>
                </td>
                <td class="col-xs-1">1.680.810</td>
                <td class="col-xs-1">6,92%</td>
                <td id="seats-iu" class="col-xs-1 seats">11</td>
                <td class="col-xs-1"><span id="seats-var-iu" class="equal">-</span></td>
                <td id="proportion-iu" class="col-xs-1 percent">-1 %</td>
                <td class="col-xs-1"><span id="proportion-var-iu" class="equal">-</span></td>
              </tr>
              <tr class="row">
                <td class="col-xs-1 pull-left">
                  <span class="amaiur">...</span><span>AMAIUR</span>
                </td>
                <td class="col-xs-1">333.628</td>
                <td class="col-xs-1">1,37%</td>
                <td id="seats-amaiur" class="col-xs-1 seats">7</td>
                <td class="col-xs-1"><span id="seats-var-amaiur" class="equal">-</span></td>
                <td id="proportion-amaiur" class="col-xs-1 percent">-1 %</td>
                <td class="col-xs-1"><span id="proportion-var-amaiur" class="equal">-</span></td>
              </tr>
              <tr class="row">
                <td class="col-xs-1 pull-left">
                  <span class="upyd">...</span><span>UPYD</span>
                </td>
                <td class="col-xs-1">1.140.242</td>
                <td class="col-xs-1">4,69%</td>
                <td id="seats-upyd" class="col-xs-1 seats">5</td>
                <td class="col-xs-1"><span id="seats-var-upyd" class="equal">-</span></td>
                <td id="proportion-upyd" class="col-xs-1 percent">-1 %</td>
                <td class="col-xs-1"><span id="proportion-var-upyd" class="equal">-</span></td>
              </tr>
              <tr class="row">
                <td class="col-xs-1 pull-left">
                  <span class="pnv">...</span><span>PNV</span>
                </td>
                <td class="col-xs-1">323.517</td>
                <td class="col-xs-1">1,33%</td>
                <td id="seats-pnv" class="col-xs-1 seats">5</td>
                <td class="col-xs-1"><span id="seats-var-pnv" class="equal">-</span></td>
                <td id="proportion-pnv" class="col-xs-1 percent">-1 %</td>
                <td class="col-xs-1"><span id="proportion-var-pnv" class="equal">-</span></td>
              </tr>
              <tr class="row">
                <td class="col-xs-1 pull-left">
                  <span class="esquerra">...</span><span>ESQUERRA</span>
                </td>
                <td class="col-xs-1">256.393</td>
                <td class="col-xs-1">1,05%</td>
                <td id="seats-esquerra" class="col-xs-1 seats">3</td>
                <td class="col-xs-1"><span id="seats-var-esquerra" class="equal">-</span></td>
                <td id="proportion-esquerra" class="col-xs-1 percent">+0,1%</td>
                <td class="col-xs-1"><span id="proportion-var-esquerra" class="equal">-</span></td>
              </tr>
              <tr class="row">
                <td class="col-xs-1 pull-left">
                  <span class="bng">...</span><span>BNG</span>
                </td>
                <td class="col-xs-1">183.279</td>
                <td class="col-xs-1">0,75%</td>
                <td id="seats-bng" class="col-xs-1 seats">2</td>
                <td class="col-xs-1"><span id="seats-var-bng" class="equal">-</span></td>
                <td id="proportion-bng" class="col-xs-1 percent">-1 %</td>
                <td class="col-xs-1"><span id="proportion-var-bng" class="equal">-</span></td>
              </tr>
              <tr class="row">
                <td class="col-xs-1 pull-left">
                  <span class="cc">...</span><span>CC</span>
                </td>
                <td class="col-xs-1">143.550</td>
                <td class="col-xs-1">0,59%</td>
                <td id="seats-cc" class="col-xs-1 seats">2</td>
                <td class="col-xs-1"><span id="seats-var-cc" class="equal">-</span></td>
                <td id="proportion-cc" class="col-xs-1 percent">+1 %</td>
                <td class="col-xs-1"><span id="proportion-var-cc" class="equal">-</span></td>
              </tr>
              <tr class="row">
                <td class="col-xs-1 pull-left">
                  <span class="compromis">...</span><span>COMPROMIS</span>
                </td>
                <td class="col-xs-1">125.150</td>
                <td class="col-xs-1">0,51%</td>
                <td id="seats-compromis" class="col-xs-1 seats">1</td>
                <td class="col-xs-1"><span id="seats-var-compromis" class="equal">-</span></td>
                <td id="proportion-compromis" class="col-xs-1 percent">-1 %</td>
                <td class="col-xs-1"><span id="proportion-var-compromis" class="equal">-</span></td>
              </tr>
              <tr class="row">
                <td class="col-xs-1 pull-left">
                  <span class="fac">...</span><span>FAC</span>
                </td>
                <td class="col-xs-1">99.173</td>
                <td class="col-xs-1">0,40%</td>
                <td id="seats-fac" class="col-xs-1 seats">1</td>
                <td class="col-xs-1"><span id="seats-var-fac" class="equal">-</span></td>
                <td id="proportion-fac" class="col-xs-1 percent">-1 %</td>
                <td class="col-xs-1"><span id="proportion-var-fac" class="equal">-</span></td>
              </tr>
              <tr class="row">
                <td class="col-xs-1 pull-left">
                  <span class="gbai">...</span><span>GBAI</span>
                </td>
                <td class="col-xs-1">42.411</td>
                <td class="col-xs-1">0,17%</td>
                <td id="seats-gbai" class="col-xs-1 seats">1</td>
                <td class="col-xs-1"><span id="seats-var-gbai" class="equal">-</span></td>
                <td id="proportion-gbai" class="col-xs-1 percent">-</td>
                <td class="col-xs-1"><span id="proportion-var-gbai" class="equal">-</span></td>
              </tr>
              <tr class="row">
                <td class="col-xs-1 pull-left">
                  <span class="equo">...</span><span>EQUO</span>
                </td>
                <td class="col-xs-1">215.776</td>
                <td class="col-xs-1">0,88%</td>
                <td id="seats-equo" class="col-xs-1 seats">0</td>
                <td class="col-xs-1"><span id="seats-var-equo" class="equal">-</span></td>
                <td id="proportion-equo" class="col-xs-1 percent">-</td>
                <td class="col-xs-1"><span id="proportion-var-equo" class="equal">-</span></td>
              </tr>
              <tr class="row">
                <td class="col-xs-1 pull-left">
                  <span class="pacma">...</span><span>PACMA</span>
                </td>
                <td class="col-xs-1">101.557</td>
                <td class="col-xs-1">0,41%</td>
                <td id="seats-pacma" class="col-xs-1 seats">0</td>
                <td class="col-xs-1"><span id="seats-var-pacma" class="equal">-</span></td>
                <td id="proportion-pacma" class="col-xs-1 percent">-</td>
                <td class="col-xs-1"><span id="proportion-var-pacma" class="equal">-</span></td>
              </tr>
              <tr class="row">
                <td class="col-xs-1 pull-left">
                  <span class="eb">...</span><span>EB</span>
                </td>
                <td class="col-xs-1">97.706</td>
                <td class="col-xs-1">0,40%</td>
                <td id="seats-eb" class="col-xs-1 seats">0</td>
                <td class="col-xs-1"><span id="seats-var-eb" class="equal">-</span></td>
                <td id="proportion-eb" class="col-xs-1 percent">-1 %</td>
                <td class="col-xs-1"><span id="proportion-var-eb" class="equal">-</span></td>
              </tr>
              <tr class="row">
                <td class="col-xs-1 pull-left">
                  <span class="pa">...</span><span>PA</span>
                </td>
                <td class="col-xs-1">76.852</td>
                <td class="col-xs-1">0,31%</td>
                <td id="seats-pa" class="col-xs-1 seats">0</td>
                <td class="col-xs-1"><span id="seats-var-pa" class="equal">-</span></td>
                <td id="proportion-pa" class="col-xs-1 percent">-</td>
                <td class="col-xs-1"><span id="proportion-var-pa" class="equal">-</span></td>
              </tr>
              <tr class="row">
                <td class="col-xs-1 pull-left">
                  <span class="pxc">...</span><span>PxC</span>
                </td>
                <td class="col-xs-1">59.781</td>
                <td class="col-xs-1">0,24%</td>
                <td id="seats-pxc" class="col-xs-1 seats">0</td>
                <td class="col-xs-1"><span id="seats-var-pxc" class="equal">-</span></td>
                <td id="proportion-pxc" class="col-xs-1 percent">-</td>
                <td class="col-xs-1"><span id="proportion-var-pxc" class="equal">-</span></td>
              </tr>
            </tbody>
          </table>

        </div>
      </div>
    </div>


    <script src="data/votes-province.js"></script>
    <script src="data/votes-ccaa.js"></script>
    <script src="data/votes-country.js"></script>
    <script src="data/seats-current.js"></script>
    <script src="js/d3-3.5.10.min.js"></script>
    <script src="js/jquery-1.11.3.min.js"></script>
    <script src="js/seats-new.js"></script>
    <script src="js/seats-old.js"></script>
    <script src="js/dhondt.js"></script>
    <script src="js/seatsFromVotes.js"></script>
    <script src="js/functions.js"></script>

  </body>
  </html>
